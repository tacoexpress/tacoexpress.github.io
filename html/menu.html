<!DOCTYPE html>
<html>
  <head>
    <!-- Global Site Tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_TRACKING_ID"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-60740646-1');
    </script>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Taco Express</title>

    <meta name = "description" content="Taco Express offers the best fast food
    Tex-Mex in Northeast San Antonio. Come in and enjoy delicious breakfast tacos
    all day long or stop by after 11pm to try one of our daily lunch specials.
    We are located at 4963 Stahl Rd. Ste 100, San Antonio, Tx 78217.">

    <link rel="stylesheet" href="../css/master.css">
    <script type="text/javascript" src="../js/menuItems.js">

    </script>
  </head>

  <body>
    <div class="header">
      <div class="header-title-container">
        <h1 class="header-title">Taco Express</h1>
      </div>
      <div class="header-nav-container">
        <nav class="header-nav">
          <ul>
            <li><a href="../index.html">Home</a></li>
	          <li><a href="./hours.html">Hours</li>
            <li>Menu</li>
            <li><a href="./specials.html">Specials</a></li>
          </ul>
        </nav>
      </div>
      <div class="opaque-background"></div>
    </div>

    <div class="menu-container container">
      <div class="menu" id="menu">

      </div>
      <div class="opaque-background white"></div>
    </div>

    <script type="text/javascript">
      window.onload = function () {
        const menu = document.getElementById('menu');

        const menuItems = window.menuItems;
        const sections = Object.keys(menuItems);

        sections.forEach(section => {
          const h1 = document.createElement('h1');
          // TODO: make this only capitalize first letter of word
          h1.innerText = section.split('_').map(function (word) { return word.toUpperCase() }).join(' ');
          h1.classList.add('menu-heading');
          menu.appendChild(h1);

          menuItems[section].forEach(function (item) {
            const name = Object.keys(item)[0];
            const price = item[name];

            const div = document.createElement('div');
            div.classList.add('menu-item');
            const nameDiv = document.createElement('div');
            nameDiv.classList.add('menu-item-name');
            nameDiv.innerText = name;
            const priceDiv = document.createElement('div');
            priceDiv.classList.add('menu-item-price');
            priceDiv.innerText = price;

            div.appendChild(nameDiv);
            div.appendChild(priceDiv);
            menu.appendChild(div);
          });
        });
      }
    </script>
  </body>
</html>
